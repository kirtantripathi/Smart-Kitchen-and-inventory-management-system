{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kirtan tripathi\\\\OneDrive\\\\Desktop\\\\PetPooja_project\\\\frontend\\\\src\\\\PacketDetection.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction PacketDetection() {\n  _s();\n  const [images, setImages] = useState([]);\n  const [previews, setPreviews] = useState([]);\n  const [results, setResults] = useState([]);\n  const handleImageChange = e => {\n    const files = Array.from(e.target.files);\n    setImages(files);\n    setPreviews(files.map(file => URL.createObjectURL(file)));\n    setResults([]);\n  };\n  const handleUpload = async () => {\n    const formData = new FormData();\n    images.forEach(image => formData.append(\"images\", image));\n    const res = await fetch(\"http://localhost:5000/packet-upload-multiple\", {\n      method: \"POST\",\n      body: formData\n    });\n    const data = await res.json();\n    if (data.results) {\n      setResults(data.results);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Packet Detection (Multi-image)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      multiple: true,\n      accept: \"image/*\",\n      onChange: handleImageChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this), previews.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Selected Images:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this), previews.map((src, i) => /*#__PURE__*/_jsxDEV(\"img\", {\n        src: src,\n        alt: `Preview ${i}`,\n        height: 150,\n        style: {\n          margin: 10,\n          borderRadius: 8\n        }\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleUpload,\n        children: \"Upload & Detect\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), results.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Results:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this), results.map((res, i) => {\n        const parsed = safeJSONParse(res.extracted_info);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 30,\n            padding: 10,\n            border: \"1px solid #ccc\",\n            borderRadius: 10\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: res.result_url,\n            alt: `Result ${i}`,\n            height: 200,\n            style: {\n              marginBottom: 10\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n            style: {\n              whiteSpace: \"pre-wrap\",\n              fontFamily: \"monospace\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"OCR Text:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 19\n            }, this), \" \", res.ocr_text || \"N/A\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Extracted Info:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 51\n            }, this), parsed ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [\"Ingredient: \", parsed.ingredient || \"null\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 64\n              }, this), \"Total Weight: \", parsed.total_weight || \"null\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 68\n              }, this), \"Expiry Date: \", parsed.expiry_date || \"null\"]\n            }, void 0, true) : res.extracted_info]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 17\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 15\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n_s(PacketDetection, \"9xS8Ho/fEYZj8rg7Yiwn0WDQH/Q=\");\n_c = PacketDetection;\nfunction safeJSONParse(str) {\n  try {\n    return JSON.parse(str);\n  } catch (e) {\n    return null;\n  }\n}\nexport default PacketDetection;\nvar _c;\n$RefreshReg$(_c, \"PacketDetection\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","PacketDetection","_s","images","setImages","previews","setPreviews","results","setResults","handleImageChange","e","files","Array","from","target","map","file","URL","createObjectURL","handleUpload","formData","FormData","forEach","image","append","res","fetch","method","body","data","json","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","type","multiple","accept","onChange","length","src","i","alt","height","margin","borderRadius","onClick","parsed","safeJSONParse","extracted_info","marginBottom","border","result_url","whiteSpace","fontFamily","ocr_text","ingredient","total_weight","expiry_date","_c","str","JSON","parse","$RefreshReg$"],"sources":["C:/Users/kirtan tripathi/OneDrive/Desktop/PetPooja_project/frontend/src/PacketDetection.js"],"sourcesContent":["import React, { useState } from \"react\";\r\n\r\nfunction PacketDetection() {\r\n  const [images, setImages] = useState([]);\r\n  const [previews, setPreviews] = useState([]);\r\n  const [results, setResults] = useState([]);\r\n\r\n  const handleImageChange = (e) => {\r\n    const files = Array.from(e.target.files);\r\n    setImages(files);\r\n    setPreviews(files.map((file) => URL.createObjectURL(file)));\r\n    setResults([]);\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n    const formData = new FormData();\r\n    images.forEach((image) => formData.append(\"images\", image));\r\n\r\n    const res = await fetch(\"http://localhost:5000/packet-upload-multiple\", {\r\n      method: \"POST\",\r\n      body: formData,\r\n    });\r\n\r\n    const data = await res.json();\r\n\r\n    if (data.results) {\r\n      setResults(data.results);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: 20 }}>\r\n      <h2>Packet Detection (Multi-image)</h2>\r\n      <input type=\"file\" multiple accept=\"image/*\" onChange={handleImageChange} />\r\n      <br /><br />\r\n\r\n      {previews.length > 0 && (\r\n        <div>\r\n          <h4>Selected Images:</h4>\r\n          {previews.map((src, i) => (\r\n            <img key={i} src={src} alt={`Preview ${i}`} height={150} style={{ margin: 10, borderRadius: 8 }} />\r\n          ))}\r\n          <br />\r\n          <button onClick={handleUpload}>Upload & Detect</button>\r\n        </div>\r\n      )}\r\n\r\n      <br />\r\n\r\n      {results.length > 0 && (\r\n        <div>\r\n          <h3>Results:</h3>\r\n          {results.map((res, i) => {\r\n            const parsed = safeJSONParse(res.extracted_info);\r\n            return (\r\n              <div key={i} style={{ marginBottom: 30, padding: 10, border: \"1px solid #ccc\", borderRadius: 10 }}>\r\n                <img src={res.result_url} alt={`Result ${i}`} height={200} style={{ marginBottom: 10 }} />\r\n                <pre style={{ whiteSpace: \"pre-wrap\", fontFamily: \"monospace\" }}>\r\n                  <strong>OCR Text:</strong> {res.ocr_text || \"N/A\"}\r\n                  <br /><br />\r\n                  <strong>Extracted Info:</strong><br />\r\n                  {parsed ? (\r\n                    <>\r\n                      Ingredient: {parsed.ingredient || \"null\"}<br />\r\n                      Total Weight: {parsed.total_weight || \"null\"}<br />\r\n                      Expiry Date: {parsed.expiry_date || \"null\"}\r\n                    </>\r\n                  ) : (\r\n                    res.extracted_info\r\n                  )}\r\n                </pre>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction safeJSONParse(str) {\r\n  try {\r\n    return JSON.parse(str);\r\n  } catch (e) {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default PacketDetection;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}